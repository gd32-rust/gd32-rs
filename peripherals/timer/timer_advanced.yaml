# Copyright 2021 The gd32-rs authors.
#
# SPDX-License-Identifier: MIT OR Apache-2.0

"TIMER[0-2]":
  CTL0:
    CKDIV:
      Div1: [0, "t_DTS = t_CK_INT"]
      Div2: [1, "t_DTS = 2 × t_CK_INT"]
      Div4: [2, "t_DTS = 4 × t_CK_INT"]
    CAM:
      EdgeAligned: [0, "The counter counts up or down depending on the direction bit"]
      CenterAlignedCountingDown: [1, "The counter counts up and down alternatively. Output compare interrupt flags are set only when the counter is counting down."]
      CenterAlignedCountingUp: [2, "The counter counts up and down alternatively. Output compare interrupt flags are set only when the counter is counting up."]
      CenterAlignedCountingUpDown: [3, "The counter counts up and down alternatively. Output compare interrupt flags are set both when the counter is counting up or down."]
    DIR:
      Up: [0, "Counter used as upcounter"]
      Down: [1, "Counter used as downcounter"]

# Advanced timer TIMER0

TIMER0:
  CTL1:
    ISO3:
      Low: [0, "CH3_O=0 (after a dead-time if CH0_ON is implemented) when POEN=0"]
      High: [1, "CH3_O=1 (after a dead-time if CH0_ON is implemented) when POEN=0"]
    ISO2N:
      Low: [0, "CH2_ON=0 when POEN=0"]
      High: [1, "CH2_ON=1 when POEN=0"]
    ISO2:
      Low: [0, "CH2_O=0 (after a dead-time if CH0_ON is implemented) when POEN=0"]
      High: [1, "CH2_O=1 (after a dead-time if CH0_ON is implemented) when POEN=0"]
    ISO1N:
      Low: [0, "CH1_ON=0 when POEN=0"]
      High: [1, "CH1_ON=1 when POEN=0"]
    ISO1:
      Low: [0, "CH1_O=0 (after a dead-time if CH0_ON is implemented) when POEN=0"]
      High: [1, "CH1_O=1 (after a dead-time if CH0_ON is implemented) when POEN=0"]
    ISO0N:
      Low: [0, "CH0_ON=0 when POEN=0"]
      High: [1, "CH0_ON=1 when POEN=0"]
    ISO0:
      Low: [0, "CH0_O=0 (after a dead-time if CH0_ON is implemented) when POEN=0"]
      High: [1, "CH0_O=1 (after a dead-time if CH0_ON is implemented) when POEN=0"]
    TI0S:
      Normal: [0, "The CH0 pin input is selected as channel 0 trigger input"]
      XOR: [1, "The XOR of CH0, CH1 and CH2 pins are selected as channel 0 trigger input"]
    MMC:
      Reset: [0, "Use UPG bit from SWEVG register"]
      Enable: [1, "Use CEN bit from CTL0 register"]
      Update: [2, "Use the update event"]
      CaptureComparePulse: [3, "The trigger output send a positive pulse when a capture or a compare match occurred in channel 0"]
      CompareO0C: [4, "O0CPRE signal is used as trigger output"]
      CompareO1C: [5, "O1CPRE signal is used as trigger output"]
      CompareO2C: [6, "O2CPRE signal is used as trigger output"]
      CompareO3C: [7, "O3CPRE signal is used as trigger output"]
    DMAS:
      OnCompare: [0, "CCx DMA request sent when CCx event occurs"]
      OnUpdate: [1, "CCx DMA request sent when update event occurs"]
    CCUC:
      Default: [0, "Capture/compare are updated only by setting the CMTG bit"]
      WithRisingEdge: [1, "Capture/compare are updated by setting the CMTG bit or when an rising edge occurs on TRGI"] 
    CCSE:
      NotPreloaded: [0, "The shadow registers for CHxEN, CHxNEN and CHxCOMCTL bits are disabled"]
      Preloaded: [1, "The shadow registers for CHxEN, CHxNEN and CHxCOMCTL bits are enabled"]
  SMCFG:
    ETP:
      NotInverted: [0, "ETI is noninverted, active at high level or rising edge"]
      Inverted: [1, "ETI is inverted, active at low level or falling edge"]
    SMC1:
      Disabled: [0, "External clock mode 1 disabled"]
      Enabled: [1, "External clock mode 1 enabled. The counter is clocked by any active edge on the ETIF signal."]
    ETPSC:
      Div1: [0, "Prescaler OFF"]
      Div2: [1, "ETRP frequency divided by 2"]
      Div4: [2, "ETRP frequency divided by 4"]
      Div8: [3, "ETRP frequency divided by 8"]
    ETFC:
      NoFilter: [0, "No filter, sampling is done at fDTS"]
      FCK_INT_N2: [1, "fSAMPLING=fCK_INT, N=2"]
      FCK_INT_N4: [2, "fSAMPLING=fCK_INT, N=4"]
      FCK_INT_N8: [3, "fSAMPLING=fCK_INT, N=8"]
      FDTS_Div2_N6: [4, "fSAMPLING=fDTS/2, N=6"]
      FDTS_Div2_N8: [5, "fSAMPLING=fDTS/2, N=8"]
      FDTS_Div4_N6: [6, "fSAMPLING=fDTS/4, N=6"]
      FDTS_Div4_N8: [7, "fSAMPLING=fDTS/4, N=8"]
      FDTS_Div8_N6: [8, "fSAMPLING=fDTS/8, N=6"]
      FDTS_Div8_N8: [9, "fSAMPLING=fDTS/8, N=8"]
      FDTS_Div16_N5: [10, "fSAMPLING=fDTS/16, N=5"]
      FDTS_Div16_N6: [11, "fSAMPLING=fDTS/16, N=6"]
      FDTS_Div16_N8: [12, "fSAMPLING=fDTS/16, N=8"]
      FDTS_Div32_N5: [13, "fSAMPLING=fDTS/32, N=5"]
      FDTS_Div32_N6: [14, "fSAMPLING=fDTS/32, N=6"]
      FDTS_Div32_N8: [15, "fSAMPLING=fDTS/32, N=8"]
    MSM:
      NoSync: [0, "No action"]
      Sync: [1, "The effect of an event on the trigger input (TRGI) is delayed to allow a perfect synchronization between the current timer and its slaves (through TRGO). It is useful if we want to synchronize several timers on a single external event."]
    TRGS:
      ITI0: [0, "Internal Trigger 0 (ITI0)"]
      ITI1: [1, "Internal Trigger 1 (ITI1)"]
      ITI2: [2, "Internal Trigger 2 (ITI2)"]
      CI0F_ED: [4, "CI0 Edge Detector (CI0F_ED)"]
      CI0FE0: [5, "Filtered Timer Input 0 (CI0FE0)"]
      CI1FE1: [6, "Filtered Timer Input 1 (CI1FE1)"]
      ETIFP: [7, "External Trigger input (ETIFP)"]
    OCRC:
      Input: [0, "OCPRE_CLR_INT is connected to the OCPRE_CLR input"]
      ETIF: [1, "OCPRE_CLR_INT is connected to ETIF"]
    SMC:
      Disabled: [0, "Slave mode disabled - if CEN=1 then the prescaler is clocked directly by the internal clock."]
      QuadratureDecoderMode0: [1, "Quadrature decoder mode 0 - Counter counts up/down on CI1FE1 edge depending on CI0FE0 level."]
      QuadratureDecoderMode1: [2, "Quadrature decoder mode 1 - Counter counts up/down on CI0FE0 edge depending on CI1FE1 level."]
      QuadratureDecoderMode2: [3, "Quadrature decoder mode 2 - Counter counts up/down on both CI0FE0 and CI1FE1 edges depending on the level of the other input."]
      RestartMode: [4, "Restart Mode - Rising edge of the selected trigger input (TRGI) reinitializes the counter and generates an update of the registers."]
      PauseMode: [5, "Pause Mode - The counter clock is enabled when the trigger input (TRGI) is high. The counter stops (but is not reset) as soon as the trigger becomes low. Both start and stop of the counter are controlled."]
      EventMode: [6, "Event Mode - The counter starts at a rising edge of the trigger TRGI (but it is not reset). Only the start of the counter is controlled."]
      ExternalClockMode: [7, "External Clock Mode 0 - Rising edges of the selected trigger (TRGI) clock the counter."]
